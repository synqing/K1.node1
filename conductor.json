{
  "scripts": {
    "setup": "bash ops/scripts/conductor-setup.sh",
    "run": "bash ops/scripts/conductor-run.sh",
    "archive": "bash ops/scripts/conductor-archive.sh"
  },
  "maxConcurrentWorkspaces": 16,
  "runScriptMode": "nonconcurrent",
  "deviceUploadQueue": {
    "max_concurrent": 1,
    "timeout_sec": 300,
    "retry_policy": "exponential_backoff"
  },
  "agents": {
    "SecurityAgent": {
      "description": "Handles security-related tasks: credential removal, buffer bounds, security audit",
      "color": "#DC2626",
      "icon": "shield"
    },
    "ArchitectureAgent": {
      "description": "Handles architecture design: ADRs, system design, error registries",
      "color": "#7C3AED",
      "icon": "cube"
    },
    "CodeGenAgent": {
      "description": "Handles code generation: patterns, graph editor, parameter editor",
      "color": "#0EA5E9",
      "icon": "code"
    },
    "TestingAgent": {
      "description": "Handles testing: profiling, validation, stress testing, code quality",
      "color": "#10B981",
      "icon": "beaker"
    },
    "DocumentationAgent": {
      "description": "Handles documentation: SDK docs, guides, references",
      "color": "#F59E0B",
      "icon": "book"
    }
  },
  "tasks": [
    {
      "id": 1,
      "name": "task:security:1",
      "title": "Remove WiFi Credentials from Firmware Source Code",
      "type": "agent",
      "agentType": "SecurityAgent",
      "priority": "high",
      "dependencies": [],
      "subtasks": [
        {
          "id": "1.1",
          "title": "Audit and remove all hardcoded WiFi credentials from source code",
          "agentType": "SecurityAgent"
        },
        {
          "id": "1.2",
          "title": "Implement certificate-based WiFi provisioning using existing infrastructure",
          "agentType": "SecurityAgent",
          "dependencies": ["1.1"]
        },
        {
          "id": "1.3",
          "title": "Enhance AP provisioning mode for secure certificate onboarding",
          "agentType": "SecurityAgent",
          "dependencies": ["1.1", "1.2"]
        },
        {
          "id": "1.4",
          "title": "Update connection flow to prioritize secure credential sources",
          "agentType": "SecurityAgent",
          "dependencies": ["1.1", "1.2", "1.3"]
        },
        {
          "id": "1.5",
          "title": "Security validation and penetration testing",
          "agentType": "SecurityAgent",
          "dependencies": ["1.1", "1.2", "1.3", "1.4"]
        }
      ],
      "context": {
        "description": "Eliminate hardcoded WiFi credentials from firmware codebase and implement secure certificate-based provisioning",
        "files": [
          "firmware/src/main.cpp",
          "firmware/src/wifi_monitor.cpp",
          "firmware/src/advanced_wifi_manager.h",
          "firmware/src/network_security_module.h"
        ],
        "estimatedHours": 8
      },
      "qualityGates": [
        {
          "name": "no_hardcoded_credentials",
          "description": "Static analysis confirms zero hardcoded credentials in source",
          "required": true,
          "tool": "ripgrep"
        },
        {
          "name": "certificate_auth_functional",
          "description": "Certificate-based authentication working in AP mode",
          "required": true,
          "tool": "manual_test"
        },
        {
          "name": "security_audit_passed",
          "description": "Security review consensus achieved",
          "required": true,
          "tool": "manual_review"
        }
      ],
      "timeout": 28800
    },
    {
      "id": 2,
      "name": "task:testing:2",
      "title": "Fix I2S Audio Timeout Protection",
      "type": "agent",
      "agentType": "TestingAgent",
      "priority": "high",
      "dependencies": [],
      "subtasks": [
        {
          "id": "2.1",
          "title": "Audit current I2S microphone timeout flow",
          "agentType": "TestingAgent"
        },
        {
          "id": "2.2",
          "title": "Implement bounded I2S reads with recovery loop",
          "agentType": "TestingAgent",
          "dependencies": ["2.1"]
        },
        {
          "id": "2.3",
          "title": "Integrate watchdog and silence fallback handling",
          "agentType": "TestingAgent",
          "dependencies": ["2.2"]
        },
        {
          "id": "2.4",
          "title": "Enhance error logging and diagnostics rate limiting",
          "agentType": "TestingAgent",
          "dependencies": ["2.2"]
        },
        {
          "id": "2.5",
          "title": "Extend timeout protection test coverage",
          "agentType": "TestingAgent",
          "dependencies": ["2.2", "2.3", "2.4"]
        }
      ],
      "context": {
        "description": "Implement timeout protection in I2S audio driver to prevent system hangs",
        "files": [
          "firmware/src/audio/microphone.cpp",
          "firmware/test/test_fix2_i2s_timeout/"
        ],
        "estimatedHours": 6
      },
      "qualityGates": [
        {
          "name": "1000_iteration_stress_test",
          "description": "Pattern changes without crashes over 1000+ iterations",
          "required": true,
          "tool": "stress_test"
        },
        {
          "name": "audio_responsiveness",
          "description": "Audio pipeline responsive under load",
          "required": true,
          "tool": "profiling"
        },
        {
          "name": "no_timeout_errors",
          "description": "Zero timeout errors in logs after fix",
          "required": true,
          "tool": "log_analysis"
        }
      ],
      "timeout": 21600
    },
    {
      "id": 3,
      "name": "task:security:3",
      "title": "Implement WebServer Buffer Bounds Checking",
      "type": "agent",
      "agentType": "SecurityAgent",
      "priority": "high",
      "dependencies": [],
      "subtasks": [
        {
          "id": "3.1",
          "title": "Audit webserver buffer operations",
          "agentType": "SecurityAgent"
        },
        {
          "id": "3.2",
          "title": "Assess request context and helper utilities",
          "agentType": "SecurityAgent"
        },
        {
          "id": "3.3",
          "title": "Define hardened buffer handling guidelines",
          "agentType": "SecurityAgent",
          "dependencies": ["3.1", "3.2"]
        },
        {
          "id": "3.4",
          "title": "Implement bounds checks in webserver.cpp",
          "agentType": "SecurityAgent",
          "dependencies": ["3.3"]
        },
        {
          "id": "3.5",
          "title": "Update shared helpers for safe input handling",
          "agentType": "SecurityAgent",
          "dependencies": ["3.3"]
        },
        {
          "id": "3.6",
          "title": "Add regression and fuzz testing for buffer safety",
          "agentType": "SecurityAgent",
          "dependencies": ["3.4", "3.5"]
        }
      ],
      "context": {
        "description": "Add comprehensive bounds checking to prevent buffer overflow attacks",
        "files": [
          "firmware/src/webserver.cpp",
          "firmware/src/webserver_request_handler.h"
        ],
        "estimatedHours": 12
      },
      "qualityGates": [
        {
          "name": "1000_fuzz_patterns",
          "description": "Fuzzing with 1000+ input patterns passes",
          "required": true,
          "tool": "fuzzing"
        },
        {
          "name": "no_heap_corruption",
          "description": "Memory profiler validation shows no heap corruption",
          "required": true,
          "tool": "profiling"
        },
        {
          "name": "security_audit_passed",
          "description": "Security review for buffer overflows passed",
          "required": true,
          "tool": "manual_review"
        }
      ],
      "timeout": 43200
    },
    {
      "id": 4,
      "name": "task:architecture:4",
      "title": "Create Comprehensive Error Code Registry",
      "type": "agent",
      "agentType": "ArchitectureAgent",
      "priority": "medium",
      "dependencies": [],
      "subtasks": [
        {
          "id": "4.1",
          "title": "Research Error Telemetry Patterns and Standards",
          "agentType": "ArchitectureAgent"
        },
        {
          "id": "4.2",
          "title": "Design Shared Error Code Registry Architecture",
          "agentType": "ArchitectureAgent",
          "dependencies": ["4.1"]
        },
        {
          "id": "4.3",
          "title": "Implement Error Code Registry Data Structures",
          "agentType": "ArchitectureAgent",
          "dependencies": ["4.2"]
        },
        {
          "id": "4.4",
          "title": "Build Error Injection Framework for Testing",
          "agentType": "ArchitectureAgent",
          "dependencies": ["4.3"]
        },
        {
          "id": "4.5",
          "title": "Integrate with Device Monitoring and Analytics",
          "agentType": "ArchitectureAgent",
          "dependencies": ["4.4"]
        },
        {
          "id": "4.6",
          "title": "Create API Documentation and Usage Guide",
          "agentType": "ArchitectureAgent",
          "dependencies": ["4.5"]
        }
      ],
      "context": {
        "description": "Establish standardized error code system with telemetry reporting for firmware diagnostics",
        "files": [
          "firmware/src/",
          "firmware/src/logging/",
          "firmware/src/network_analytics_engine.h"
        ],
        "estimatedHours": 10
      },
      "qualityGates": [
        {
          "name": "100_percent_coverage",
          "description": "Error injection testing with 100% code coverage",
          "required": true,
          "tool": "coverage_report"
        },
        {
          "name": "telemetry_working",
          "description": "Telemetry collection validated through NetworkAnalyticsEngine",
          "required": true,
          "tool": "integration_test"
        },
        {
          "name": "documentation_complete",
          "description": "API documentation and usage guide complete",
          "required": true,
          "tool": "manual_review"
        }
      ],
      "timeout": 36000
    },
    {
      "id": 5,
      "name": "task:architecture:5",
      "title": "Create ADR for Code Generation Architecture",
      "type": "agent",
      "agentType": "ArchitectureAgent",
      "priority": "medium",
      "dependencies": [1],
      "subtasks": [
        {
          "id": "5.1",
          "title": "Gather code generation decision inputs",
          "agentType": "ArchitectureAgent"
        },
        {
          "id": "5.2",
          "title": "Draft ADR-0003 code generation decision",
          "agentType": "ArchitectureAgent",
          "dependencies": ["5.1"]
        },
        {
          "id": "5.3",
          "title": "Peer review and finalize ADR-0003",
          "agentType": "ArchitectureAgent",
          "dependencies": ["5.2"]
        }
      ],
      "context": {
        "description": "Document architectural decision for code generation approach in formal ADR format",
        "files": [
          "docs/02-adr/",
          "docs/01-architecture/"
        ],
        "estimatedHours": 4
      },
      "qualityGates": [
        {
          "name": "adr_completeness",
          "description": "ADR contains all required sections and is properly formatted",
          "required": true,
          "tool": "manual_review"
        },
        {
          "name": "team_consensus",
          "description": "Technical review consensus achieved",
          "required": true,
          "tool": "manual_review"
        }
      ],
      "timeout": 14400
    },
    {
      "id": 6,
      "name": "task:architecture:6",
      "title": "Design Graph System Architecture and Compiler",
      "type": "agent",
      "agentType": "ArchitectureAgent",
      "priority": "high",
      "dependencies": [],
      "subtasks": [
        {
          "id": "6.1",
          "title": "Capture graph system scope, constraints, and personas",
          "agentType": "ArchitectureAgent"
        },
        {
          "id": "6.2",
          "title": "Define node taxonomy and metadata schema",
          "agentType": "ArchitectureAgent",
          "dependencies": ["6.1"]
        },
        {
          "id": "6.3",
          "title": "Design runtime state and scheduling model",
          "agentType": "ArchitectureAgent",
          "dependencies": ["6.2"]
        },
        {
          "id": "6.4",
          "title": "Establish memory and resource management strategy",
          "agentType": "ArchitectureAgent",
          "dependencies": ["6.3"]
        },
        {
          "id": "6.5",
          "title": "Specify end-to-end C++ code generation pipeline",
          "agentType": "ArchitectureAgent",
          "dependencies": ["6.3", "6.4"]
        },
        {
          "id": "6.6",
          "title": "Produce architecture documentation and pseudocode artifacts",
          "agentType": "ArchitectureAgent",
          "dependencies": ["6.5"]
        }
      ],
      "context": {
        "description": "Architect node graph system with 35-40 node types and C++ code generation pipeline",
        "files": [
          "docs/01-architecture/",
          "design/"
        ],
        "estimatedHours": 12
      },
      "qualityGates": [
        {
          "name": "design_review",
          "description": "Design review consensus achieved",
          "required": true,
          "tool": "manual_review"
        },
        {
          "name": "pseudocode_complete",
          "description": "Pseudocode walkthrough successful",
          "required": true,
          "tool": "manual_review"
        },
        {
          "name": "architecture_approval",
          "description": "Team architecture approval obtained",
          "required": true,
          "tool": "manual_review"
        }
      ],
      "timeout": 43200
    },
    {
      "id": 7,
      "name": "task:codegen:7",
      "title": "Implement Bloom Pattern Graph Conversion PoC",
      "type": "agent",
      "agentType": "CodeGenAgent",
      "priority": "high",
      "dependencies": [6],
      "subtasks": [
        {
          "id": "7.1",
          "title": "Analyze Bloom pattern hardcoded implementation structure",
          "agentType": "CodeGenAgent"
        },
        {
          "id": "7.2",
          "title": "Design minimal graph node architecture",
          "agentType": "CodeGenAgent",
          "dependencies": ["7.1"]
        },
        {
          "id": "7.3",
          "title": "Implement Bloom pattern graph representation",
          "agentType": "CodeGenAgent",
          "dependencies": ["7.2"]
        },
        {
          "id": "7.4",
          "title": "Develop code generation pipeline",
          "agentType": "CodeGenAgent",
          "dependencies": ["7.3"]
        },
        {
          "id": "7.5",
          "title": "Validate visual output and performance equivalence",
          "agentType": "CodeGenAgent",
          "dependencies": ["7.4"]
        }
      ],
      "context": {
        "description": "Convert existing Bloom pattern to graph representation and generate equivalent C++ code",
        "files": [
          "firmware/src/generated_patterns.h",
          "webapp/src/components/views/GraphEditorView.tsx"
        ],
        "estimatedHours": 10
      },
      "qualityGates": [
        {
          "name": "visual_matching",
          "description": "Generated pattern visually identical to hardcoded version",
          "required": true,
          "tool": "visual_test"
        },
        {
          "name": "fps_acceptable",
          "description": "FPS impact <2% compared to hardcoded version",
          "required": true,
          "tool": "profiling"
        },
        {
          "name": "compilation_success",
          "description": "Generated code compiles with zero errors/warnings",
          "required": true,
          "tool": "compiler"
        }
      ],
      "timeout": 36000
    },
    {
      "id": 8,
      "name": "task:codegen:8",
      "title": "Implement Spectrum Pattern Graph Conversion PoC",
      "type": "agent",
      "agentType": "CodeGenAgent",
      "priority": "high",
      "dependencies": [],
      "subtasks": [
        {
          "id": "8.1",
          "title": "Research spectrum-to-graph mapping architecture",
          "agentType": "CodeGenAgent"
        },
        {
          "id": "8.2",
          "title": "Design audio-reactive node types for spectrum analysis",
          "agentType": "CodeGenAgent",
          "dependencies": ["8.1"]
        },
        {
          "id": "8.3",
          "title": "Implement spectrum node codegen enhancements",
          "agentType": "CodeGenAgent",
          "dependencies": ["8.2"]
        },
        {
          "id": "8.4",
          "title": "Convert Spectrum pattern to graph representation",
          "agentType": "CodeGenAgent",
          "dependencies": ["8.3"]
        },
        {
          "id": "8.5",
          "title": "Validate real-time performance and audio reactivity",
          "agentType": "CodeGenAgent",
          "dependencies": ["8.4"]
        }
      ],
      "context": {
        "description": "Convert existing Spectrum pattern to graph representation with audio-reactive nodes",
        "files": [
          "firmware/src/generated_patterns.h",
          "firmware/src/audio/",
          "webapp/src/lib/graphMockData.ts"
        ],
        "estimatedHours": 10
      },
      "qualityGates": [
        {
          "name": "visual_matching",
          "description": "Generated spectrum pattern matches original behavior",
          "required": true,
          "tool": "visual_test"
        },
        {
          "name": "fps_target",
          "description": "Maintains 60+ FPS baseline",
          "required": true,
          "tool": "profiling"
        },
        {
          "name": "audio_reactivity",
          "description": "Audio reactivity preserved across frequency ranges",
          "required": true,
          "tool": "audio_test"
        }
      ],
      "timeout": 36000
    },
    {
      "id": 9,
      "name": "task:codegen:9",
      "title": "Implement Stateful Node System",
      "type": "agent",
      "agentType": "CodeGenAgent",
      "priority": "high",
      "dependencies": [6],
      "subtasks": [
        {
          "id": "9.1",
          "title": "Research and document stateful node architectural patterns",
          "agentType": "CodeGenAgent"
        },
        {
          "id": "9.2",
          "title": "Design stateful node base class and state container",
          "agentType": "CodeGenAgent",
          "dependencies": ["9.1"]
        },
        {
          "id": "9.3",
          "title": "Implement beat detector stateful node",
          "agentType": "CodeGenAgent",
          "dependencies": ["9.2"]
        },
        {
          "id": "9.4",
          "title": "Implement spectrum analyzer stateful node",
          "agentType": "CodeGenAgent",
          "dependencies": ["9.2"]
        },
        {
          "id": "9.5",
          "title": "Implement NVS-based state persistence system",
          "agentType": "CodeGenAgent",
          "dependencies": ["9.2"]
        },
        {
          "id": "9.6",
          "title": "Validate memory constraints and performance targets",
          "agentType": "CodeGenAgent",
          "dependencies": ["9.3", "9.4", "9.5"]
        }
      ],
      "context": {
        "description": "Create stateful node types with persistence and audio reactivity",
        "files": [
          "firmware/src/audio/goertzel.h",
          "firmware/src/wifi_monitor.cpp"
        ],
        "estimatedHours": 12
      },
      "qualityGates": [
        {
          "name": "beat_detection_accuracy",
          "description": "Beat detection accuracy >85% on test audio",
          "required": true,
          "tool": "audio_test"
        },
        {
          "name": "memory_efficient",
          "description": "State overhead <1KB per node instance",
          "required": true,
          "tool": "profiling"
        },
        {
          "name": "persistence_working",
          "description": "State persists correctly across power cycles",
          "required": true,
          "tool": "integration_test"
        }
      ],
      "timeout": 43200
    },
    {
      "id": 10,
      "name": "task:testing:10",
      "title": "Conduct Graph System Memory and Performance Profiling",
      "type": "agent",
      "agentType": "TestingAgent",
      "priority": "high",
      "dependencies": [7, 8, 9],
      "subtasks": [
        {
          "id": "10.1",
          "title": "Audit Current Profiling Assets",
          "agentType": "TestingAgent"
        },
        {
          "id": "10.2",
          "title": "Extend Runtime Instrumentation Hooks",
          "agentType": "TestingAgent",
          "dependencies": ["10.1"]
        },
        {
          "id": "10.3",
          "title": "Automate Build and Compile Time Capture",
          "agentType": "TestingAgent",
          "dependencies": ["10.2"]
        },
        {
          "id": "10.4",
          "title": "Execute Device Performance Measurements",
          "agentType": "TestingAgent",
          "dependencies": ["10.2", "10.3"]
        },
        {
          "id": "10.5",
          "title": "Analyze Metrics Against Decision Gates",
          "agentType": "TestingAgent",
          "dependencies": ["10.4"]
        },
        {
          "id": "10.6",
          "title": "Produce Performance Baseline and Code Quality Report",
          "agentType": "TestingAgent",
          "dependencies": ["10.5"]
        }
      ],
      "context": {
        "description": "Comprehensive performance analysis of graph system PoC to validate decision gate criteria",
        "files": [
          "firmware/src/profiler.cpp",
          "firmware/test/"
        ],
        "estimatedHours": 10
      },
      "qualityGates": [
        {
          "name": "memory_threshold",
          "description": "Memory usage <5KB per node",
          "required": true,
          "tool": "profiling"
        },
        {
          "name": "compile_speed",
          "description": "Compilation time <2 seconds",
          "required": true,
          "tool": "build_timing"
        },
        {
          "name": "fps_impact",
          "description": "FPS impact <2% vs baseline",
          "required": true,
          "tool": "profiling"
        },
        {
          "name": "code_quality",
          "description": "Code quality score >80%",
          "required": true,
          "tool": "static_analysis"
        }
      ],
      "timeout": 36000
    },
    {
      "id": 11,
      "name": "task:testing:11",
      "title": "Conduct Hardware Validation Testing",
      "type": "agent",
      "agentType": "TestingAgent",
      "priority": "high",
      "dependencies": [1, 3],
      "subtasks": [
        {
          "id": "11.1",
          "title": "Prepare Hardware Testbed Configuration",
          "agentType": "TestingAgent"
        },
        {
          "id": "11.2",
          "title": "Calibrate Boot Cycle Automation Scripts",
          "agentType": "TestingAgent",
          "dependencies": ["11.1"]
        },
        {
          "id": "11.3",
          "title": "Execute 100 Cold Boot Cycle Campaign",
          "agentType": "TestingAgent",
          "dependencies": ["11.2"]
        },
        {
          "id": "11.4",
          "title": "Perform 24-Hour Runtime Monitoring",
          "agentType": "TestingAgent",
          "dependencies": ["11.3"]
        },
        {
          "id": "11.5",
          "title": "Consolidate Findings and Publish Validation Report",
          "agentType": "TestingAgent",
          "dependencies": ["11.4"]
        }
      ],
      "context": {
        "description": "Comprehensive hardware stability testing to validate production readiness",
        "files": [
          "firmware/test/test_hardware_stress/"
        ],
        "estimatedHours": 12
      },
      "qualityGates": [
        {
          "name": "100_boot_cycles",
          "description": "100 cold boot cycles with zero hangs",
          "required": true,
          "tool": "hardware_test"
        },
        {
          "name": "24h_stability",
          "description": "24-hour runtime with 5% memory margin",
          "required": true,
          "tool": "hardware_test"
        },
        {
          "name": "zero_critical_errors",
          "description": "Zero critical errors in logs",
          "required": true,
          "tool": "log_analysis"
        }
      ],
      "timeout": 86400
    },
    {
      "id": 12,
      "name": "task:testing:12",
      "title": "Execute Stress Testing and Stability Validation",
      "type": "agent",
      "agentType": "TestingAgent",
      "priority": "high",
      "dependencies": [2],
      "subtasks": [
        {
          "id": "12.1",
          "title": "Review existing stress tests and define coverage plan",
          "agentType": "TestingAgent"
        },
        {
          "id": "12.2",
          "title": "Extend pattern stress harness for 1000+ iterations",
          "agentType": "TestingAgent",
          "dependencies": ["12.1"]
        },
        {
          "id": "12.3",
          "title": "Automate WiFi reconnection cycle testing",
          "agentType": "TestingAgent",
          "dependencies": ["12.1"]
        },
        {
          "id": "12.4",
          "title": "Integrate temperature monitoring and logging",
          "agentType": "TestingAgent",
          "dependencies": ["12.1"]
        },
        {
          "id": "12.5",
          "title": "Run full-system stress suite and collect artifacts",
          "agentType": "TestingAgent",
          "dependencies": ["12.2", "12.3", "12.4"]
        },
        {
          "id": "12.6",
          "title": "Analyze stress results and document stability findings",
          "agentType": "TestingAgent",
          "dependencies": ["12.5"]
        }
      ],
      "context": {
        "description": "Perform comprehensive stress testing of all firmware systems under load",
        "files": [
          "firmware/test/test_hardware_stress/"
        ],
        "estimatedHours": 14
      },
      "qualityGates": [
        {
          "name": "1000_pattern_cycles",
          "description": "1000+ pattern changes without crashes",
          "required": true,
          "tool": "stress_test"
        },
        {
          "name": "wifi_stability",
          "description": "WiFi reconnection 10x cycles successful",
          "required": true,
          "tool": "stress_test"
        },
        {
          "name": "zero_crashes",
          "description": "Zero crashes in error logs",
          "required": true,
          "tool": "log_analysis"
        }
      ],
      "timeout": 50400
    },
    {
      "id": 13,
      "name": "task:testing:13",
      "title": "Perform Code Quality and Coverage Review",
      "type": "agent",
      "agentType": "TestingAgent",
      "priority": "medium",
      "dependencies": [1, 2, 3, 4, 10],
      "subtasks": [
        {
          "id": "13.1",
          "title": "Research and implement C++ code coverage strategies with gcov/PlatformIO integration",
          "agentType": "TestingAgent"
        },
        {
          "id": "13.2",
          "title": "Implement static analysis automation for C++ codebase with clang-tidy and cppcheck",
          "agentType": "TestingAgent"
        },
        {
          "id": "13.3",
          "title": "Measure and optimize webapp test coverage using Jest and Vitest",
          "agentType": "TestingAgent"
        },
        {
          "id": "13.4",
          "title": "Validate ADR documentation completeness and cross-reference integrity",
          "agentType": "TestingAgent"
        },
        {
          "id": "13.5",
          "title": "Establish quality gates and integrate coverage reporting into CI/CD pipeline",
          "agentType": "TestingAgent",
          "dependencies": ["13.1", "13.2", "13.3"]
        }
      ],
      "context": {
        "description": "Comprehensive quality audit ensuring production-ready code standards",
        "files": [
          "firmware/test/",
          "webapp/"
        ],
        "estimatedHours": 16
      },
      "qualityGates": [
        {
          "name": "95_percent_coverage",
          "description": "Test coverage >=95% for firmware and webapp",
          "required": true,
          "tool": "coverage_report"
        },
        {
          "name": "high_quality_code",
          "description": "High-severity warnings eliminated",
          "required": true,
          "tool": "static_analysis"
        },
        {
          "name": "adr_completeness",
          "description": "ADR documentation completeness validated",
          "required": true,
          "tool": "manual_review"
        }
      ],
      "timeout": 57600
    },
    {
      "id": 14,
      "name": "task:testing:14",
      "title": "Decision Gate Validation and Path Selection",
      "type": "agent",
      "agentType": "TestingAgent",
      "priority": "high",
      "dependencies": [4, 10, 11, 12, 13],
      "subtasks": [
        {
          "id": "14.1",
          "title": "Aggregate gate evidence from upstream tasks",
          "agentType": "TestingAgent"
        },
        {
          "id": "14.2",
          "title": "Verify quantitative performance thresholds",
          "agentType": "TestingAgent",
          "dependencies": ["14.1"]
        },
        {
          "id": "14.3",
          "title": "Confirm qualitative readiness criteria",
          "agentType": "TestingAgent",
          "dependencies": ["14.1"]
        },
        {
          "id": "14.4",
          "title": "Draft decision matrix for Path A vs Path B",
          "agentType": "TestingAgent",
          "dependencies": ["14.2", "14.3"]
        },
        {
          "id": "14.5",
          "title": "Conduct stakeholder alignment and sign-off",
          "agentType": "TestingAgent",
          "dependencies": ["14.4"]
        }
      ],
      "context": {
        "description": "Validate all decision gate criteria and determine execution path",
        "files": [
          "docs/04-planning/"
        ],
        "estimatedHours": 6
      },
      "qualityGates": [
        {
          "name": "criteria_validation",
          "description": "All 6 gate criteria validated with supporting evidence",
          "required": true,
          "tool": "manual_review"
        },
        {
          "name": "decision_documented",
          "description": "Decision clearly documented with rationale",
          "required": true,
          "tool": "manual_review"
        },
        {
          "name": "stakeholder_approval",
          "description": "Stakeholder sign-off obtained",
          "required": true,
          "tool": "manual_review"
        }
      ],
      "timeout": 21600
    },
    {
      "id": 15,
      "name": "task:codegen:15",
      "title": "Extend Code Generation for Full Node Type Support",
      "type": "agent",
      "agentType": "CodeGenAgent",
      "priority": "high",
      "dependencies": [14],
      "subtasks": [
        {
          "id": "15.1",
          "title": "Audit existing node graph and codegen systems",
          "agentType": "CodeGenAgent"
        },
        {
          "id": "15.2",
          "title": "Design expanded node taxonomy and inheritance model",
          "agentType": "CodeGenAgent",
          "dependencies": ["15.1"]
        },
        {
          "id": "15.3",
          "title": "Implement modular node type framework",
          "agentType": "CodeGenAgent",
          "dependencies": ["15.2"]
        },
        {
          "id": "15.4",
          "title": "Extend code generation templates and incremental pipeline",
          "agentType": "CodeGenAgent",
          "dependencies": ["15.3"]
        },
        {
          "id": "15.5",
          "title": "Add optimization passes to codegen backend",
          "agentType": "CodeGenAgent",
          "dependencies": ["15.4"]
        },
        {
          "id": "15.6",
          "title": "Introduce performance monitoring and caching infrastructure",
          "agentType": "CodeGenAgent",
          "dependencies": ["15.5"]
        },
        {
          "id": "15.7",
          "title": "Build validation and automated testing framework",
          "agentType": "CodeGenAgent",
          "dependencies": ["15.6"]
        },
        {
          "id": "15.8",
          "title": "Document tooling updates and developer workflows",
          "agentType": "CodeGenAgent",
          "dependencies": ["15.7"]
        }
      ],
      "context": {
        "description": "Scale code generation system to support 35-40 node types for production",
        "files": [
          "webapp/src/lib/types.ts",
          "firmware/src/generated_patterns.h"
        ],
        "estimatedHours": 24
      },
      "qualityGates": [
        {
          "name": "99_5_compilation_success",
          "description": "Generated C++ compilation success rate >99.5%",
          "required": true,
          "tool": "compiler"
        },
        {
          "name": "performance_targets",
          "description": "Memory <1KB/node, generation <2s for full library",
          "required": true,
          "tool": "profiling"
        },
        {
          "name": "visual_validation",
          "description": "Visual validation of 35-40 node types passes",
          "required": true,
          "tool": "visual_test"
        }
      ],
      "timeout": 86400
    },
    {
      "id": 16,
      "name": "task:codegen:16",
      "title": "Migrate High-Value Patterns to Graph System",
      "type": "agent",
      "agentType": "CodeGenAgent",
      "priority": "high",
      "dependencies": [15],
      "subtasks": [
        {
          "id": "16.1",
          "title": "Research pattern migration strategy and establish baseline metrics",
          "agentType": "CodeGenAgent"
        },
        {
          "id": "16.2",
          "title": "Design validation harness architecture for pattern equivalence testing",
          "agentType": "CodeGenAgent",
          "dependencies": ["16.1"]
        },
        {
          "id": "16.3",
          "title": "Implement regression testing automation framework",
          "agentType": "CodeGenAgent",
          "dependencies": ["16.2"]
        },
        {
          "id": "16.4",
          "title": "Migrate first 3 high-priority patterns",
          "agentType": "CodeGenAgent",
          "dependencies": ["16.3"]
        },
        {
          "id": "16.5",
          "title": "Migrate remaining 5-7 patterns with progressive validation",
          "agentType": "CodeGenAgent",
          "dependencies": ["16.4"]
        }
      ],
      "context": {
        "description": "Convert 8-10 existing hardcoded patterns to graph representation for production use",
        "files": [
          "firmware/src/generated_patterns.h",
          "firmware/test/"
        ],
        "estimatedHours": 20
      },
      "qualityGates": [
        {
          "name": "visual_fidelity",
          "description": "Visual output matching hardcoded versions",
          "required": true,
          "tool": "visual_test"
        },
        {
          "name": "performance_maintained",
          "description": "FPS impact <2% for all migrated patterns",
          "required": true,
          "tool": "profiling"
        },
        {
          "name": "regression_testing",
          "description": "Automated regression testing validates all patterns",
          "required": true,
          "tool": "integration_test"
        }
      ],
      "timeout": 72000
    },
    {
      "id": 17,
      "name": "task:codegen:17",
      "title": "Implement Webapp Graph Editor UI",
      "type": "agent",
      "agentType": "CodeGenAgent",
      "priority": "high",
      "dependencies": [15, 16],
      "subtasks": [
        {
          "id": "17.1",
          "title": "Research React graph UI patterns and connection architectures",
          "agentType": "CodeGenAgent"
        },
        {
          "id": "17.2",
          "title": "Enhance node connection validation system",
          "agentType": "CodeGenAgent",
          "dependencies": ["17.1"]
        },
        {
          "id": "17.3",
          "title": "Design robust graph serialization architecture",
          "agentType": "CodeGenAgent",
          "dependencies": ["17.1"]
        },
        {
          "id": "17.4",
          "title": "Implement canvas editor with 50+ nodes",
          "agentType": "CodeGenAgent",
          "dependencies": ["17.2", "17.3"]
        },
        {
          "id": "17.5",
          "title": "Create node palette with 35-40 types and metadata",
          "agentType": "CodeGenAgent",
          "dependencies": ["17.4"]
        },
        {
          "id": "17.6",
          "title": "Add real-time validation feedback system",
          "agentType": "CodeGenAgent",
          "dependencies": ["17.4"]
        }
      ],
      "context": {
        "description": "Build production-ready graph editor interface in React webapp",
        "files": [
          "webapp/src/components/graph/",
          "webapp/src/components/control/"
        ],
        "estimatedHours": 20
      },
      "qualityGates": [
        {
          "name": "canvas_functionality",
          "description": "Canvas editor working with 50+ nodes",
          "required": true,
          "tool": "ui_test"
        },
        {
          "name": "serialization_valid",
          "description": "Graph serialization working bidirectionally",
          "required": true,
          "tool": "integration_test"
        },
        {
          "name": "validation_accurate",
          "description": "Real-time validation feedback accurate and helpful",
          "required": true,
          "tool": "ui_test"
        }
      ],
      "timeout": 72000
    },
    {
      "id": 18,
      "name": "task:testing:18",
      "title": "Integration Testing",
      "type": "agent",
      "agentType": "TestingAgent",
      "priority": "high",
      "dependencies": [15, 16, 17],
      "subtasks": [
        {
          "id": "18.1",
          "title": "Establish end-to-end test infrastructure and communication protocols",
          "agentType": "TestingAgent"
        },
        {
          "id": "18.2",
          "title": "Implement automated pattern validation and deployment system",
          "agentType": "TestingAgent",
          "dependencies": ["18.1"]
        },
        {
          "id": "18.3",
          "title": "Create comprehensive device communication layer",
          "agentType": "TestingAgent",
          "dependencies": ["18.1"]
        },
        {
          "id": "18.4",
          "title": "Build visual output validation system",
          "agentType": "TestingAgent",
          "dependencies": ["18.3"]
        },
        {
          "id": "18.5",
          "title": "Implement end-to-end workflow automation",
          "agentType": "TestingAgent",
          "dependencies": ["18.2", "18.3", "18.4"]
        },
        {
          "id": "18.6",
          "title": "Execute comprehensive integration test suite",
          "agentType": "TestingAgent",
          "dependencies": ["18.5"]
        }
      ],
      "context": {
        "description": "Comprehensive integration testing from webapp to device deployment",
        "files": [
          "firmware/test/",
          "webapp/src/__tests__/"
        ],
        "estimatedHours": 18
      },
      "qualityGates": [
        {
          "name": "100_percent_success",
          "description": "100+ patterns generate and deploy successfully",
          "required": true,
          "tool": "integration_test"
        },
        {
          "name": "zero_regressions",
          "description": "Zero regressions vs hardcoded patterns",
          "required": true,
          "tool": "comparison_test"
        },
        {
          "name": "device_reliable",
          "description": "Device communication 100% reliable",
          "required": true,
          "tool": "communication_test"
        }
      ],
      "timeout": 64800
    },
    {
      "id": 19,
      "name": "task:documentation:19",
      "title": "Create SDK Documentation and Templates",
      "type": "agent",
      "agentType": "DocumentationAgent",
      "priority": "medium",
      "dependencies": [4],
      "subtasks": [
        {
          "id": "19.1",
          "title": "Audit existing SDK assets and API sources",
          "agentType": "DocumentationAgent"
        },
        {
          "id": "19.2",
          "title": "Draft comprehensive API reference documentation",
          "agentType": "DocumentationAgent",
          "dependencies": ["19.1"]
        },
        {
          "id": "19.3",
          "title": "Develop and document 5+ executable example patterns",
          "agentType": "DocumentationAgent",
          "dependencies": ["19.1"]
        },
        {
          "id": "19.4",
          "title": "Write external developer integration guide",
          "agentType": "DocumentationAgent",
          "dependencies": ["19.2", "19.3"]
        },
        {
          "id": "19.5",
          "title": "Conduct holistic documentation review and packaging",
          "agentType": "DocumentationAgent",
          "dependencies": ["19.2", "19.3", "19.4"]
        }
      ],
      "context": {
        "description": "Comprehensive SDK documentation for external developers",
        "files": [
          "docs/06-reference/",
          "docs/07-resources/"
        ],
        "estimatedHours": 12
      },
      "qualityGates": [
        {
          "name": "documentation_complete",
          "description": "API reference, examples, and guides complete",
          "required": true,
          "tool": "manual_review"
        },
        {
          "name": "examples_working",
          "description": "All 5+ example patterns compile and run",
          "required": true,
          "tool": "compiler"
        },
        {
          "name": "guide_validated",
          "description": "Integration guide enables successful developer integration",
          "required": true,
          "tool": "manual_review"
        }
      ],
      "timeout": 43200
    },
    {
      "id": 20,
      "name": "task:codegen:20",
      "title": "Implement Parameter Editor for SDK Patterns",
      "type": "agent",
      "agentType": "CodeGenAgent",
      "priority": "medium",
      "dependencies": [19],
      "subtasks": [
        {
          "id": "20.1",
          "title": "Research parameter editing UX patterns and best practices",
          "agentType": "CodeGenAgent"
        },
        {
          "id": "20.2",
          "title": "Design real-time preview architecture for parameter changes",
          "agentType": "CodeGenAgent",
          "dependencies": ["20.1"]
        },
        {
          "id": "20.3",
          "title": "Implement constraint validation system for parameter types",
          "agentType": "CodeGenAgent",
          "dependencies": ["20.2"]
        },
        {
          "id": "20.4",
          "title": "Build parameter discovery system for SDK patterns",
          "agentType": "CodeGenAgent",
          "dependencies": ["20.3"]
        },
        {
          "id": "20.5",
          "title": "Develop intuitive parameter editor interface",
          "agentType": "CodeGenAgent",
          "dependencies": ["20.4"]
        },
        {
          "id": "20.6",
          "title": "Integrate parameter editor with existing control panel infrastructure",
          "agentType": "CodeGenAgent",
          "dependencies": ["20.5"]
        }
      ],
      "context": {
        "description": "Build intuitive parameter editing interface for non-technical users",
        "files": [
          "webapp/src/components/control/",
          "webapp/src/lib/types.ts"
        ],
        "estimatedHours": 14
      },
      "qualityGates": [
        {
          "name": "parameter_discovery",
          "description": "Parameter discovery working for all SDK pattern types",
          "required": true,
          "tool": "integration_test"
        },
        {
          "name": "realtime_preview",
          "description": "Real-time preview response time <100ms",
          "required": true,
          "tool": "performance_test"
        },
        {
          "name": "user_friendly",
          "description": "Non-technical user testing validates UX",
          "required": true,
          "tool": "usability_test"
        }
      ],
      "timeout": 50400
    },
    {
      "id": 21,
      "name": "task:enhancement:21",
      "title": "Firmware Enhancements",
      "type": "agent",
      "agentType": "CodeGenAgent",
      "priority": "medium",
      "dependencies": [],
      "subtasks": [
        {
          "id": "21.1",
          "title": "Auto-Color Changing Feature",
          "agentType": "CodeGenAgent"
        },
        {
          "id": "21.2",
          "title": "Auto-Lightshow Mode Changing Feature",
          "agentType": "CodeGenAgent"
        },
        {
          "id": "21.3",
          "title": "Define RenderChannel struct with CRGBF + packed buffers",
          "agentType": "CodeGenAgent"
        },
        {
          "id": "21.4",
          "title": "Implement VisualScheduler skeleton, single-channel parity",
          "agentType": "CodeGenAgent",
          "dependencies": ["21.3"]
        },
        {
          "id": "21.5",
          "title": "Initialize dual RMT channels (GPIO 4 & 5)",
          "agentType": "CodeGenAgent"
        },
        {
          "id": "21.6",
          "title": "Create dual-channel scheduler loop, hardware validation",
          "agentType": "CodeGenAgent",
          "dependencies": ["21.4", "21.5"]
        },
        {
          "id": "21.7",
          "title": "Dualize pattern statics [2][...] arrays",
          "agentType": "CodeGenAgent",
          "dependencies": ["21.6"]
        },
        {
          "id": "21.8",
          "title": "Implement per-channel parameter routing + REST API",
          "agentType": "CodeGenAgent",
          "dependencies": ["21.7"]
        },
        {
          "id": "21.9",
          "title": "Profiling + stress testing (100+ FPS target)",
          "agentType": "CodeGenAgent",
          "dependencies": ["21.8"]
        },
        {
          "id": "21.10",
          "title": "Complete documentation + feature flag removal",
          "agentType": "CodeGenAgent",
          "dependencies": ["21.9"]
        },
        {
          "id": "21.11",
          "title": "Diagnose and Document Tempo Detection Reliability Issues",
          "agentType": "CodeGenAgent"
        },
        {
          "id": "21.12",
          "title": "Tempo Fix Decision: Disable vs Harden Implementation Path",
          "agentType": "CodeGenAgent",
          "dependencies": ["21.11"]
        },
        {
          "id": "21.13",
          "title": "DISABLE PATH: Remove Tempo Detection from Production Patterns",
          "agentType": "CodeGenAgent",
          "dependencies": ["21.12"]
        },
        {
          "id": "21.14",
          "title": "HARDEN PATH: Implement Production-Grade Tempo Detection",
          "agentType": "CodeGenAgent",
          "dependencies": ["21.12"]
        }
      ],
      "context": {
        "description": "Ad-hoc high-value firmware features and enhancements",
        "files": [
          "firmware/src/",
          "firmware/src/rendering/",
          "firmware/src/visual/"
        ],
        "estimatedHours": 40
      },
      "qualityGates": [
        {
          "name": "features_working",
          "description": "All implemented features working correctly",
          "required": false,
          "tool": "integration_test"
        },
        {
          "name": "performance_maintained",
          "description": "100+ FPS sustained on dual channels",
          "required": false,
          "tool": "profiling"
        }
      ],
      "timeout": 144000
    },
    {
      "id": 22,
      "name": "task:enhancement:22",
      "title": "Webapp Fixes",
      "type": "agent",
      "agentType": "CodeGenAgent",
      "priority": "medium",
      "dependencies": [],
      "subtasks": [
        {
          "id": "22.1",
          "title": "Fix Preset Palette Button Selectors",
          "agentType": "CodeGenAgent"
        }
      ],
      "context": {
        "description": "Bug fixes and UI/UX improvements to prevent scope creep",
        "files": [
          "webapp/src/lib/paletteMapping.ts",
          "webapp/src/components/ControlPanelView.tsx"
        ],
        "estimatedHours": 4
      },
      "qualityGates": [
        {
          "name": "bugs_fixed",
          "description": "All identified bugs fixed and tested",
          "required": true,
          "tool": "manual_test"
        }
      ],
      "timeout": 14400
    }
  ]
}
